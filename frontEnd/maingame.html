<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="http://localhost:4000/socket.io/socket.io.js"></script>
</head>
<body>
    
    <p>메인 게임임</p>
</body>
<script>
    const socket = io.connect('http://localhost:4000');
    console.log("d");
    socket.on('THrowGameMember',(tmp)=>{
        console.log(tmp);
        console.log(tmp.rooms[tmp.roomNum].usernickname);
    } )

    let whoisme="";
    const myindex="";

    

    // // 현재 접속중인 유저의 정보를 가져온다. 
    // await axios.get('http://127.0.0.1:4000/gameready/userInfo', {
    //     withCredentials: true
    // })
    // 현재 유저의 정보를 받아옴 
    // tmp.rooms[tmp.roomNum].usernickname
    // 받아온 순서대로 post 요청으로 생성해준다 한유저당 한행을 
    // content에 다적어넣는다 
    // 제시어,1.유저이름:그림(drawing에 저장된 거 불러오기 id),2.유저아룸:정답,3.유저이름:그림4.유저이름:정답 
    // id는 room_primarykey 로 추가해준다.  또한 유저의 총길이를 connect id에 저장해준다. 
    // 제시어를 입력 input태그의 value값으로 받으면 유저닉네임이랑 일치하는 곧에 post요청으로 해당하는 유저의 content 제시어 자리에 정답을 추가 한다. gusdnr22:사과,goldenbeer:오렌지,gusdnr205:키위
    // 답을 get요청으로 다시받아와서 자신이 마지막[connectid-1] 유저일경우 배열기준 0번재 유저의 그림에 마지막 유저의 그림이 저장된다. ex) 사과,1.gusdnr205:그림,
    // 저장하는것을 기준으로 하자면 자신이 i 번쨰 유저라면 내가 그린 그림이 i-1 유저의 그림에 저장된다. 
    // 내가( i + 3) % connectid 의 번쨰 사람이라면  i 번쨰 유저의 1. 유저이름 그림을 보고 정답을 말하고 i번쨰 유저의 2.에 저장해준다. 
    // 내가( i + 2) % connectid 의 번쨰 사람이라면  i 번쨰 유저의 2. 유저이름 정답을 보고 그림을 그리고 i번쨰 유저의 3.에 저장해준다.
    // 내가( i + 1) % connectid 의 번쨰 사람이라면  i 번쨰 유저의 3. 유저이름 정답을 보고 그림을 그리고 i번쨰 유저의 4.에 저장해준다.
    // 내가 몇번쨰 사람인지 판단하는게 중요 


    // 
    
    // 
    // await axios.post('http://127.0.0.1:4000/gamePlay/ansInput', { question: ans }, {
    //     withCredentials: true,
    //     "Content-Type": "application/json"
    // })

    // await axios.post('http://127.0.0.1:4000/gamePlay/input', { id: num }, {
    //     withCredentials: true,
    //     "Content-Type": "application/json"
    // })
    // await axios.post('http://127.0.0.1:4000/gamePlay/input', { id: num }, {
    //     withCredentials: true,
    //     "Content-Type": "application/json"
    // })
    // await axios.post('http://127.0.0.1:4000/gamePlay/input', { id: num }, {
    //     withCredentials: true,
    //     "Content-Type": "application/json"
    // })
    // await axios.post('http://127.0.0.1:4000/gamePlay/input', { id: num }, {
    //     withCredentials: true,
    //     "Content-Type": "application/json"
    // })
    


    // window.onload = () => {
    //     setTimeout(() => {
    //     socket.on('THrowGameMember', )
    

       
        
        // await axios.get('http://127.0.0.1:4000/gameready', {
        //         withCredentials: true
        //     })
        // await axios.post('http://127.0.0.1:4000/gameready/roomchoice', { id: num }, {
        //                     withCredentials: true,
        //                     "Content-Type": "application/json"
        //                 }).then((e) => {

        //                 }).catch((err) => {
        //                     console.log(err);
        //                 })
        
    //     function game(player) {
    //     let tmp = player.length;
    //     let replay = [];
    //     let dap = [];
    //     let painting = [];
    //     for (let i = 0; i < tmp; i++) {
    //         dap[i] = prompt('enter your answer');
    //         replay[i] = {
    //             playerSuggest:`${palyer[i]}의 제시어:${dap[i]}`  dap[i]은 questions에 content
    //         }
    //     }
    //     console.log("모든 정답이 입력되었습니다");
    //     for (let i = 0; i < tmp; i++) {
    //         console.log(dap[i]);
    //         if (i == 0) {
    //             alert(dap[0]);
    //             let asdf = prompt('그림을 그려주세요');
    //             // 첫번째 유저의 제시어가 보여졌을때
    //             // 마지막유저의 그림이 들어간다.
    //             painting[i] = { paint1: `${player[tmp - 1]},${asdf}` };
    //             replay[i].first = painting[i];
    //         } else {
    //             alert(dap[i])
    //             // 두번째이후 유저이후
    //             let asd = prompt('그림을 그려주세요');
    //             painting[i] = { paint1: `${player[i - 1]},${asd}` };
    //             replay[i].first = painting[i];
    //         }
    //     }
    //     for (let i = 0; i < tmp; i++) {
    //         alert(replay[i].first.paint1);
    //         let playerIndex = (i + 3) % player.length;
    //         let asdfa = prompt(`${player[playerIndex]}의 정답은?`);
    //         replay[i].second = {answer:`${player[playerIndex]}, ${asdfa}`};
    //     }

    //     for (let i = 0; i < tmp; i++) {
    //         alert(replay[i].second.answer);
    //         let playerIndex = (i + 2) % player.length;
    //         let asdfa = prompt(`${player[playerIndex]}의 그림그려주세용`);
    //         replay[i].third = {paint:`${player[playerIndex]}, ${asdfa}`};
    //     }
    //     for (let i = 0; i < tmp; i++) {
    //         alert(replay[i].third.paint);
    //         let playerIndex = (i + 1) % player.length;
    //         let asdfa = prompt(`${player[playerIndex]}의 정답은?`);
    //         replay[i].forth = {ans:`${player[playerIndex]}, ${asdfa}`};
    //     }


    //     console.log(painting);
    //     console.log(replay);


    // }

    // game(palyer);


</script>
</html>