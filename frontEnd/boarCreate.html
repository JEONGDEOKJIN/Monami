<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- axios 로 예전에 쓰던 form 태그 대신 전송⭐⭐⭐ -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>



</head>
<body>


    <!-- 제목 -->
    <input type="text" id="title">

    <!-- 사진 -->
    <input type="file" id="post_img">

    <!-- 사진 미리보기 ✅ -->
    <div> 사진 업로드 하면 미리 보이기 🔮 </div>

    <!-- 본문 -->
    <input type="text" id="content">

    <!-- 글쓰기 버튼 -->
    <button id="writeBtn"> 글쓰기 </button>





</body>


<script>


writeBtn.onclick = () => {
    // form 인스턴스 생성
    const form = new FormData();

    // form 객체 안에 데이터 append 하기
    form.append("title" , title.value);
    form.append("content" , content.value);
    form.append("post_img" , post_img.files[0]);

    // axios 전송 
    axios.post("http://127.0.0.1:8007/board/create" , form, { 
        // 헤더의 내용으로, 인코딩된, 폼 데이터로 전송한다고 설정
        "Content-Type" : "multipart/form-data"
    }).then( (e) => {
        console.log("잘 전달됨🙌")
        console.log(e.data)
    }).catch((err) => {
        console.log(err)
    })

}



</script>


</html>